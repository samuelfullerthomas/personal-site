<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>rent table</title>
    <link href="https://fonts.googleapis.com/css?family=Lato|Montserrat" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="./style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon-16x16.png">
    <link rel="manifest" href="./assets/manifest.json">
    <link rel="mask-icon" href="./assets/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-PZMCWDP');
    </script>
    <!-- End Google Tag Manager -->
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PZMCWDP"
      height="0" width="0" style="display:none;visibility:hidden">
      </iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="root">
      <div class="textStuff">
          <table>
              <thead>
                  <tr>
                    <th>PPW</th>
                    <th>PPM</th>
                  </tr>
                </thead>
              <tbody id='rentTable'></tbody>
          </table>
          <div class="footer">
            <a href='./'>Home</a>
            <a href='./shift-change.html'>Shift Change</a> |
            <a href='./downloads.html'>Downloads</a>
          </div>
      </div>
    </div>
    <script>
      function generateRentTable (options) {
        const { lowRent, highRent, rentType } = options
        const increment = rentType === 'ppw' ? 10 : 50
        let currentRent = lowRent
        let rentTable = []
        while (currentRent < highRent) {
          rentTable.push(currentRent)
          currentRent += increment
        }
        const mappedTable = rentTable.map(price => {
          return rentType === 'ppw'
            ? {
              ppw: price,
              ppm: (price * 52) / 12
            }
            : {
              ppw: (price * 12) / 52,
              ppm: price
            }
        })
        mappedTable.forEach((pair, index) => {
          const rentTable = document.getElementById('rentTable')
          const tableRow = rentTable.insertRow(index)
          const ppwCell = tableRow.insertCell(0)
          const ppmCell = tableRow.insertCell(1)
          ppwCell.appendChild(document.createTextNode('£' + Math.floor(pair.ppw)))
          ppmCell.appendChild(document.createTextNode('£' + Math.floor(pair.ppm)))
        })
      }
      generateRentTable({ lowRent: 340, highRent: 480, rentType: 'ppw' })
    </script>
  </body>  
</html>
